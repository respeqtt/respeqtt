<ActionBar title="" class="action">
    <GridLayout columns="auto,*,auto" background-color="#6D81FF">
        <Image src="res://icon" class="action-image" row="0" col="0"></Image>
        <Label class="principal" text="RESPEQTT" row="0" col="1"></Label>
        <Label class="version" [text]="this.version" row="0" col="2"></Label>
    </GridLayout>
</ActionBar>

<TabView [selectedIndex]="this.tab" (selectedIndexChanged)="onTabChanged($event)">
    <StackLayout *tabItem="{title: 'Domicile', iconSource: 'res://domicile'}">    
        <!-- A domicile , iconSource: 'font://&#xf015;', class:'fas' -->
        <FlexboxLayout flexDirection="column" justifyContent="flex-start">
            <Button [text]="(this.lancer ? 'Consulter les équipes' : 'Choisir une rencontre')" class="bouton" flexGrow="1" (tap)="onPreparer($event)" [isenabled]="actChoisirRencontre"></Button>
            <Button text="Gérer les parties"                class="bouton" flexGrow="1" (tap)="onLancement($event)" [isenabled]="actGererParties"></Button>
            <Button text="Partager les scores"              class="bouton" flexGrow="1" (tap)="onPartager($event)" [isenabled]="actGererParties"></Button>
            <Button text="Valider le score de la rencontre" class="bouton" flexGrow="1" (tap)="onValiderScore($event)" [isenabled]="actValider"></Button>
            <Button text="Feuille de match"                 class="bouton" flexGrow="1" (tap)="onFeuille($event)" [isenabled]="actVoirFeuille"></Button>
            <Button text="Envoyer à SPID"                   class="bouton" flexGrow="1" (tap)="onEnvoyerASPID($event)" [isenabled]="actEnvoyerSpid"></Button>
            <Button text="Abandonner la rencontre en cours" class="bouton" flexGrow="1" (tap)="onAbandonner($event)" [isenabled]="actAbandonner"></Button>
        </FlexboxLayout>
    </StackLayout>

    <StackLayout *tabItem="{title: 'Extérieur', iconSource: 'res://exterieur'}">    
        <!-- A l'extérieur , iconSource: 'font://&#xf6bb;', class:'fas' -->
        <FlexboxLayout flexDirection="column" justifyContent="flex-start">
            <Button text="Choisir une rencontre"   class="bouton" flexGrow="1" (tap)="onRencontre($event)" [isenabled]="actChoisirRencontreExt"></Button>
            <Button text="Composer son équipe"     class="bouton" flexGrow="1" (tap)="onCompo($event)" [isenabled]="actComposerEquipe"></Button>
            <Button text="Composer les doubles"    class="bouton" flexGrow="1" (tap)="onCompoDoubles($event)" [isenabled]="actComposerDoubles"></Button>
            <Button text="Importer les scores"     class="bouton" flexGrow="1" (tap)="onImporter($event)" [isenabled]="actImporterScores"></Button>
            <Button text="Consulter les scores"    class="bouton" flexGrow="1" (tap)="onConsulter($event)" [isenabled]="actConsulterScores"></Button>
            <Button text="Saisir une partie"       class="bouton" flexGrow="1" (tap)="onPartie($event)" [isenabled]="actSaisirPartie"></Button>
            <Button text="Signer la feuille de match" class="bouton" flexGrow="1" (tap)="onSigner($event)" [isenabled]="actSigner"></Button>
            <Button text="Abandonner la rencontre en cours" class="bouton" flexGrow="1" (tap)="onAbandonnerExt($event)" [isenabled]="actAbandonnerExt"></Button>
        </FlexboxLayout>
    </StackLayout>

    <StackLayout *tabItem="{title: 'Préparer', iconSource: 'res://prepa'}">    
        <!-- Sans SPID , iconSource: 'font://&#xf256;', class:'fas' -->
        <FlexboxLayout flexDirection="column" justifyContent="flex-start">
            <Button text="Télécharger les rencontres"  class="bouton" flexGrow="1" (tap)="onDownloadRencontre($event)"></Button>
            <Button text="Télécharger les joueurs"     class="bouton" flexGrow="1" (tap)="onJoueurs($event)" [isenabled]="!this.modeRencontre"></Button>
            <Button text="Saisir un club"              class="bouton" flexGrow="1" (tap)="onAjouterClub($event)"></Button>       
        </FlexboxLayout>
    </StackLayout>
    <StackLayout *tabItem="{title: 'Aide', iconSource: 'res://aide'}">    
        <!-- Sans SPID , iconSource: 'font://&#xf05a;', class:'fas' -->
        <FlexboxLayout flexDirection="column" justifyContent="flex-start" alignItems="center">
            <Label class="sous-titre" text="Flash me, get Respeqtt !" flexgrow="0" flexshrink="0"></Label>
            <Image stretch="none" src="~/assets/qrdownload.png" flexgrow="0" flexshrink="0"></Image>
            <HtmlView id="aide" [html]="aide" flexgrow="1" flexshrink="1"></HtmlView>
        </FlexboxLayout>
    </StackLayout>
</TabView>